<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!--
Clipboard HTML Header:

-->
</head>
<body>
<div class="_9663006" style="box-sizing: border-box; flex-direction: column; align-items: flex-end; margin-bottom: 16px; display: flex; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="d29f3d7d ds-message _63c77b1" style="flex-direction: column; align-items: flex-end; width: 752.017px; display: flex; --panel-width: 0px;"><div class="fbb737a4" style="color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(237, 243, 254); box-sizing: border-box; white-space: pre-wrap; word-break: break-word; border-radius: 22px; max-width: calc(100% - 88px); padding: 10px 16px; font-size: 16px; line-height: 24px; position: relative;">what is gamma and how does it differ from brightness and contrast. and how to change it efficiently using C#.</div></div><div class="_11d6b3a" style="flex-direction: column; align-items: flex-end; margin-top: 6px; display: flex;"><div class="_425ea0b" style="align-items: center; height: 28px; display: flex;"><div class="ds-flex _78e0558" style="display: flex; opacity: 1; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: flex-end; gap: 0px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b d4910adc" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px; margin-left: 10px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.94073 1.34948C10.7047 0.902375 11.6503 0.90248 12.4143 1.34948C12.706 1.52022 12.9687 1.79124 13.3104 2.1329C13.652 2.47454 13.9231 2.73727 14.0938 3.029C14.5408 3.79301 14.5409 4.73862 14.0938 5.50257C13.9231 5.79422 13.652 6.0571 13.3104 6.39867L6.65929 13.0498C6.28065 13.4284 6.00692 13.7108 5.6654 13.9097C5.32388 14.1085 4.94312 14.2074 4.42702 14.3498L3.24391 14.6762C2.77524 14.8054 2.34535 14.9263 2.00128 14.9685C1.65193 15.0112 1.17961 15.0014 0.810733 14.6326C0.44189 14.2637 0.432076 13.7914 0.474829 13.442C0.517004 13.098 0.63787 12.668 0.767151 12.1994L1.09349 11.0163C1.23585 10.5002 1.33478 10.1194 1.53356 9.77791C1.73246 9.43639 2.01487 9.16266 2.39352 8.78402L9.04463 2.1329C9.38622 1.79132 9.64908 1.52023 9.94073 1.34948ZM15.5427 14.8399H7.5522L8.96704 13.425H15.5427V14.8399ZM3.39379 9.78429C2.96497 10.2131 2.84241 10.3437 2.75706 10.4901C2.6718 10.6366 2.61858 10.8079 2.4573 11.3926L2.13096 12.5757C2.0018 13.0439 1.92191 13.3419 1.8886 13.5536C2.10038 13.5204 2.39869 13.4417 2.86761 13.3123L4.05072 12.986C4.63541 12.8247 4.80666 12.7715 4.9532 12.6862C5.09965 12.6009 5.23019 12.4783 5.65902 12.0495L10.721 6.9865L8.45574 4.72128L3.39379 9.78429ZM11.7 2.57085C11.3774 2.38205 10.9777 2.38205 10.6551 2.57085C10.5602 2.62653 10.4487 2.72937 10.0449 3.13317L9.45601 3.72101L11.7212 5.98623L12.3101 5.3984C12.7139 4.99464 12.8168 4.88314 12.8725 4.78825C13.0612 4.46567 13.0612 4.06592 12.8725 3.74333C12.8168 3.64834 12.7145 3.53758 12.3101 3.13317C11.9057 2.72869 11.795 2.62647 11.7 2.57085Z" fill="currentColor"></path></svg></div></div></div></div></div></div><div class="_4f9bf79 _43c05b5" style="box-sizing: border-box; padding: 0px; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --assistant-last-margin-bottom: 32px;"><div class="ds-message _63c77b1" style="--panel-width: 0px;"><div class="ds-markdown" style="--ds-md-zoom: 1.143; font: 400 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; color: rgb(15, 17, 21);"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 16px; margin-left: 0px;"><span>Of course! This is an excellent question that gets to the heart of image manipulation. Let's break it down.</span></p><h3 style="font: 700 20px / 30px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>1. What is Gamma, Brightness, and Contrast?</span></h3><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>Think of an image's pixel data as a number between 0 (pure black) and 1 (pure white). How your monitor translates that number into actual light is not linear.</span></p><h4 style="font: 600 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 16px 0px 8px;"><strong style="font-weight: inherit;"><span>Gamma (γ)</span></strong></h4><ul style="margin: 8px 0px 16px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>What it is:</span></strong><span><span> </span>Gamma is a<span> </span></span><strong style="font-weight: 600;"><span>non-linear operation</span></strong><span><span> </span>that primarily affects the mid-tones of an image. It defines the relationship between the numerical value of a pixel and its actual displayed luminance.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>The Problem it Solves:</span></strong><span><span> </span>Human vision is more sensitive to changes in dark tones than bright ones. To store image data efficiently and match human perception, we use a power-law function.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>The Effect:</span></strong><span><span> </span>It's best understood by its adjustments:</span></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Gamma &gt; 1.0:</span></strong><span><span> </span>Makes the image darker. It "pushes down" mid-tones towards black. Shadows become crushed.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Gamma &lt; 1.0:</span></strong><span><span> </span>Makes the image brighter. It "lifts up" mid-tones towards white. Highlights can become blown out.</span></p></li></ul></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Analogy:</span></strong><span><span> </span>Imagine the entire tonal range of your image is a slinky. Applying gamma stretches or compresses the middle of the slinky, leaving the very top and bottom (pure black and white) relatively fixed.</span></p></li></ul><h4 style="font: 600 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 16px 0px 8px;"><strong style="font-weight: inherit;"><span>Brightness</span></strong></h4><ul style="margin: 8px 0px 16px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>What it is:</span></strong><span><span> </span>Brightness is a<span> </span></span><strong style="font-weight: 600;"><span>linear shift</span></strong><span><span> </span>of all pixel values.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>The Effect:</span></strong><span><span> </span>It moves the entire histogram of the image left or right.</span></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Increase Brightness:</span></strong><span><span> </span>Every pixel value gets a fixed amount added to it. Pure black (0) becomes dark gray. Pure white (1) stays white (it gets clipped).</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Decrease Brightness:</span></strong><span><span> </span>Every pixel value gets a fixed amount subtracted from it. Pure white (1) becomes light gray. Pure black (0) stays black.</span></p></li></ul></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Analogy:</span></strong><span><span> </span>You are lifting or lowering the entire slinky uniformly. You are not changing its shape, just its position.</span></p></li></ul><h4 style="font: 600 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 16px 0px 8px;"><strong style="font-weight: inherit;"><span>Contrast</span></strong></h4><ul style="margin: 8px 0px 16px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>What it is:</span></strong><span><span> </span>Contrast is a<span> </span></span><strong style="font-weight: 600;"><span>linear scaling</span></strong><span><span> </span>of pixel values around a midpoint (often 0.5).</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>The Effect:</span></strong><span><span> </span>It stretches or compresses the range of tonal values.</span></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Increase Contrast:</span></strong><span><span> </span>Pixel values above the midpoint get brighter, values below the midpoint get darker. This increases the separation between lights and darks.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Decrease Contrast:</span></strong><span><span> </span>Pixel values are "pushed" towards the midpoint. The image looks flatter and more gray.</span></p></li></ul></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Analogy:</span></strong><span><span> </span>You are stretching or compressing the ends of the slinky, making the difference between the top and bottom larger or smaller.</span></p></li></ul><hr style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0.1); border: none; height: 1px; margin: 32px 0px; display: block;"><h3 style="font: 700 20px / 30px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>2. Summary of Differences</span></h3><div class="ds-scroll-area _1210dd7" style="z-index: 0; position: relative; overflow-x: auto; scrollbar-width: none;"><div class="ds-scroll-area__gutters" style="pointer-events: none; z-index: 1000; display: block; opacity: 1 !important; transition: opacity 0.1s ease-out 1s; position: sticky; top: 0px; left: 0px; right: 0px; height: 0px; --container-height: 207px;"><div class="ds-scroll-area__horizontal-gutter" style="position: absolute; padding: 2px 0px; left: 0px; right: 0px; top: 195px; height: 8px;"><div class="ds-scroll-area__horizontal-bar" style="background-color: rgb(229, 229, 229); cursor: initial; pointer-events: all; border-radius: 100px; transition: background-color 0.1s ease-out; position: relative; height: 7.99242px; left: 0px; width: 587.842px;"></div></div><div class="ds-scroll-area__vertical-gutter" style="position: absolute; padding: 0px 2px; right: 0px; top: 8px; bottom: -199px; width: 8px;"></div></div><table style="border-collapse: collapse; width: max-content; max-width: max-content;"><thead><tr><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px 10px 0px; text-align: left;"><span>Feature</span></th><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;"><span>Type of Operation</span></th><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;"><span>Primary Effect</span></th><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;"><span>Impact on Blacks/Whites</span></th></tr></thead><tbody><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Gamma</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><strong style="font-weight: 600;"><span>Non-linear</span></strong><span><span> </span>(Power Law)</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Adjusts mid-tones</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Preserves pure black and pure white (theoretically)</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Brightness</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><strong style="font-weight: 600;"><span>Linear</span></strong><span><span> </span>(Addition/Subtraction)</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Shifts all tones equally</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Clips at the extremes (can lose pure black/white)</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Contrast</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><strong style="font-weight: 600;"><span>Linear</span></strong><span><span> </span>(Multiplication)</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Stretches/compresses tonal range</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Clips at the extremes (can lose detail in shadows/highlights)</span></td></tr></tbody></table></div><hr style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0.1); border: none; height: 1px; margin: 32px 0px; display: block;"><h3 style="font: 700 20px / 30px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>3. How to Change Gamma Efficiently in C#</span></h3><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>The most efficient way to apply a gamma correction to an image in C# is to use a<span> </span></span><strong style="font-weight: 600;"><span>Look-Up Table (LUT)</span></strong><span>.</span></p><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><strong style="font-weight: 600;"><span>The Concept:</span></strong><span><span> </span>Instead of calculating the power function for every single pixel (which is computationally expensive), you pre-calculate the new value for every possible old value (e.g., for 256 values in an 8-bit channel) and store it in an array. Applying the correction then becomes a simple, instantaneous array lookup for each pixel.</span></p><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><strong style="font-weight: 600;"><span>The Gamma Correction Formula:</span></strong><span></span><br><span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">output = input ^ (1 / gamma)</code><span></span><br><span></span><em><span>(Where input and output are normalized between 0.0 and 1.0)</span></em></p><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>Here is a complete C# example using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">System.Drawing</code><span><span> </span>(works with Windows Forms, but the core logic is universal).</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Imaging</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

<span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token keyword" style="color: rgb(166, 38, 164);">class</span> <span class="token class-name" style="color: rgb(183, 107, 1);">GammaCorrector</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// &lt;summary&gt;</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// Applies gamma correction to a Bitmap efficiently using a Look-Up Table (LUT).</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// &lt;/summary&gt;</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// &lt;param name="sourceImage"&gt;The original bitmap.&lt;/param&gt;</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// &lt;param name="gamma"&gt;The gamma value. &gt;1.0 darkens, &lt;1.0 brightens.&lt;/param&gt;</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">/// &lt;returns&gt;A new gamma-corrected Bitmap.&lt;/returns&gt;</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">double</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 1. Precompute the Look-Up Table (LUT) for each color component</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> lut <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span></span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token number" style="color: rgb(183, 107, 1);">256</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">double</span></span> inverseGamma <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0</span> <span class="token operator" style="color: rgb(64, 120, 242);">/</span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// We use the inverse in the formula</span>

        <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> i <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> i <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> <span class="token number" style="color: rgb(183, 107, 1);">256</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> i<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Normalize the input value to [0, 1]</span>
            <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">double</span></span> normalized <span class="token operator" style="color: rgb(64, 120, 242);">=</span> i <span class="token operator" style="color: rgb(64, 120, 242);">/</span> <span class="token number" style="color: rgb(183, 107, 1);">255.0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply the gamma correction formula</span>
            <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">double</span></span> corrected <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Math<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Pow</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>normalized<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> inverseGamma<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Convert back to [0, 255] and store in the LUT</span>
            lut<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>i<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>corrected <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token number" style="color: rgb(183, 107, 1);">255.0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>

        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 2. Create a new bitmap to hold the corrected image</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> correctedImage <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 3. Lock bits for fast, direct memory access</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);">BitmapData</span> sourceData <span class="token operator" style="color: rgb(64, 120, 242);">=</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">LockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            ImageLockMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>ReadOnly<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Assuming 32-bit ARGB</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

        <span class="token class-name" style="color: rgb(183, 107, 1);">BitmapData</span> destData <span class="token operator" style="color: rgb(64, 120, 242);">=</span> correctedImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">LockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> correctedImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> correctedImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            ImageLockMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>WriteOnly<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb
        <span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

        <span class="token keyword" style="color: rgb(166, 38, 164);">unsafe</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Get pointers to the start of the bitmaps</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span> srcPtr <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>sourceData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Scan0<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span> destPtr <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>destData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Scan0<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// The stride might have padding at the end of each row, so we use the provided value.</span>
            <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> srcStride <span class="token operator" style="color: rgb(64, 120, 242);">=</span> sourceData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Stride<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> destStride <span class="token operator" style="color: rgb(64, 120, 242);">=</span> destData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Stride<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Loop through every pixel</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> y <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> y <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> y<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> x <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> x <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> x<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Calculate the position of the current pixel</span>
                    <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> srcPos <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>y <span class="token operator" style="color: rgb(64, 120, 242);">*</span> srcStride<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>x <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token number" style="color: rgb(183, 107, 1);">4</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 4 bytes per pixel (BGRA)</span>
                    <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> destPos <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>y <span class="token operator" style="color: rgb(64, 120, 242);">*</span> destStride<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>x <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token number" style="color: rgb(183, 107, 1);">4</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply the LUT to the Blue, Green, and Red channels.</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Ignore the Alpha channel (index 3) to preserve transparency.</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> lut<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> lut<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> lut<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">3</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">3</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>      <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>

        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 4. Unlock the bits</span>
        sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">UnlockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceData<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        correctedImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">UnlockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>destData<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

        <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> correctedImage<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>

<span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Usage Example:</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">class</span> <span class="token class-name" style="color: rgb(183, 107, 1);">Program</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">void</span></span> <span class="token function" style="color: rgb(64, 120, 242);">Main</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Load an image</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> originalBitmap <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"path_to_your_image.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply a gamma of 2.2 to brighten it (common correction for dark images)</span>
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Or apply 0.45 (~1/2.2) to darken an image that looks washed out.</span>
            <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> correctedBitmap <span class="token operator" style="color: rgb(64, 120, 242);">=</span> GammaCorrector<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">ApplyGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>originalBitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">2.2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Save the result</span>
            correctedBitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"path_for_corrected_image.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ImageFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Jpeg<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Clean up</span>
            correctedBitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Dispose</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h3 style="font: 700 20px / 30px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Key Points for the C# Code:</span></h3><ol start="1" style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Efficiency:</span></strong><span><span> </span>The LUT is the star here. 256 calculations are done once, instead of<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">Width * Height * 3</code><span><span> </span>times (millions for a large image).</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Unsafe Code:</span></strong><span><span> </span>The<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">unsafe</code><span><span> </span>block and<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">LockBits</code><span><span> </span>are used for direct memory access, which is dramatically faster than using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">GetPixel</code><span><span> </span>and<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">SetPixel</code><span>.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Pixel Format:</span></strong><span><span> </span>The code assumes a 32-bit ARGB format. You should ensure your input image is in this format or convert it first.</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Gamma Value:</span></strong><span><span> </span>A gamma of 2.2 is the standard for most Windows and web content. Applying a gamma of 1/2.2 (≈0.45) is the inverse operation, often used to "encode" an image for display on a 2.2 gamma monitor.</span></p></li></ol><p class="ds-markdown-paragraph" style="margin-top: 16px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px;"><span>By using this LUT-based approach, you can change the gamma of even high-resolution images in real-time or near real-time.</span></p></div></div><div class="ds-theme" style="--ds-input-height-l: 44px; --ds-input-height-m: 34px; --ds-input-height-s: 30px; --ds-input-height-xs: 26px; --ds-font-weight-strong: 500; --ds-font-size-l: 16px; --ds-line-height-l: 28px; --ds-font-size-m: 14px; --ds-line-height-m: 25px; --ds-font-size-sp: 13px; --ds-line-height-sp: 23px; --ds-font-size-s: 12px; --ds-line-height-s: 21px; --ds-font-size-xsp: 11px; --ds-line-height-xsp: 19.5px; --ds-font-size-xs: 10px; --ds-line-height-xs: 18px; --ds-ease-in-out: cubic-bezier(.4,0,.2,1); --ds-ease-in: cubic-bezier(.4,0,1,1); --ds-ease-out: cubic-bezier(0,0,.2,1); --ds-font-family-code: Menlo,Monaco,&quot;Cascadia Mono&quot;,Consolas,&quot;Ubuntu Mono&quot;,&quot;DejaVu Sans Mono&quot;,&quot;Liberation Mono&quot;,&quot;JetBrains Mono&quot;,&quot;Fira Code&quot;,Cousine,&quot;Roboto Mono&quot;,&quot;Courier New&quot;,Courier,sans-serif,system-ui; --ds-transition-duration: .2s; --ds-transition-duration-fast: .1s; --ds-transition-duration-slow: .3s; --wip-ds-font-size-2xs: 12px; --wip-ds-line-height-2xs-compact: 1.5; --wip-ds-color-bg-tooltip: #2c2c2e; --ds-rgb-hover: 245 245 245; --ds-rgb-primary: 77 107 254; --ds-button-hover-color: #2563EB; --ds-bordered-secondary-button-color: rgb(38 38 38); --ds-input-prefix-color: rgb(38 38 38);"></div><div class="ds-flex _0a3d93b" style="display: flex; flex-wrap: wrap; align-items: center; width: calc(100% + 6px); margin-top: 12px; margin-bottom: 10px; position: relative; left: -6px; gap: 10px;"><div class="ds-flex _965abe9" style="display: flex; opacity: 0; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: center; gap: 10px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.92142 0.349213C10.3745 0.349295 12.5564 1.50526 13.9558 3.299L15.1282 2.12765C15.3304 1.92552 15.6768 2.06949 15.6768 2.35544V5.53929C15.6766 5.71632 15.533 5.85982 15.356 5.86008H12.1711C11.8855 5.85976 11.7427 5.51471 11.9443 5.31255L12.9642 4.29062C11.8238 2.74311 9.98914 1.74112 7.92142 1.74104C4.46442 1.74104 1.66239 4.54307 1.66239 8.00006C1.66239 11.4571 4.46442 14.2591 7.92142 14.2591C11.3783 14.2589 14.1804 11.457 14.1804 8.00006H15.5723C15.5723 12.2252 12.1465 15.6508 7.92142 15.6509C3.6962 15.6509 0.270569 12.2253 0.270569 8.00006C0.270569 3.77485 3.6962 0.349213 7.92142 0.349213Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.27861 0.811633C8.81985 0.142255 9.79016 0.0422445 10.4537 0.557662L10.5823 0.669367L10.6065 0.693605L10.6097 0.695713L10.6392 0.72522C11.3549 1.44685 11.6336 2.49474 11.3716 3.47675L11.3705 3.48097L11.361 3.5168L11.36 3.51891L10.8889 5.2261C10.8796 5.26003 10.8706 5.29164 10.8626 5.32094C10.8934 5.32101 10.927 5.322 10.9627 5.322H11.9006C12.4263 5.322 12.783 5.31906 13.0651 5.36731C14.8182 5.66725 15.9851 7.34574 15.6564 9.09363C15.6035 9.37493 15.4769 9.70926 15.2939 10.2023L14.337 12.7799C14.1401 13.3105 13.9773 13.7518 13.8101 14.1025C13.6375 14.4646 13.4385 14.7794 13.1441 15.0425C12.9712 15.197 12.7801 15.3303 12.5751 15.4387C12.2259 15.6232 11.8608 15.7 11.4612 15.7359C11.0742 15.7705 10.6034 15.7696 10.0374 15.7696H4.87371C4.08047 15.7696 3.42922 15.7703 2.90728 15.7138C2.37206 15.6558 1.88985 15.5311 1.4667 15.2237C1.22409 15.0475 1.01072 14.834 0.834405 14.5914C0.52696 14.1683 0.401312 13.6861 0.343323 13.1509C0.286761 12.6288 0.28747 11.977 0.28747 11.1834V9.51411C0.28747 8.84785 0.281286 8.36721 0.399176 7.95656C0.671091 7.00941 1.41109 6.26838 2.35823 5.99645C2.76888 5.87855 3.24952 5.88579 3.91579 5.88579C4.11977 5.88579 4.14542 5.88325 4.16238 5.88053C4.23526 5.8687 4.30403 5.83669 4.35839 5.78674C4.37104 5.77511 4.38755 5.7561 4.51436 5.59494L8.25648 0.839033L8.25754 0.837979L8.27861 0.811633ZM1.69116 11.1834C1.69116 12.0083 1.69211 12.5712 1.73859 13.0002C1.78365 13.4158 1.86467 13.6222 1.96937 13.7663C2.05914 13.8898 2.16727 13.999 2.29079 14.0888C2.43495 14.1935 2.6421 14.2745 3.05797 14.3195C3.45891 14.363 3.97631 14.3656 4.71564 14.3659C4.30795 13.8053 4.06447 13.1172 4.06437 12.371V8.59412H5.46807V12.371C5.46832 13.4734 6.3616 14.367 7.46401 14.367H10.0374C10.6286 14.367 11.0269 14.3663 11.3368 14.3385C11.6339 14.3118 11.7956 14.2639 11.9196 14.1984C12.024 14.1431 12.1213 14.0747 12.2094 13.996C12.3139 13.9025 12.4151 13.7679 12.5434 13.4986C12.6774 13.2177 12.8162 12.8451 13.0219 12.2909L13.9787 9.71328C14.1848 9.15822 14.253 8.96737 14.278 8.83439C14.4617 7.85698 13.8092 6.91901 12.829 6.75098C12.6956 6.72816 12.4928 6.72464 11.9006 6.72464H10.9627C10.7737 6.72464 10.5693 6.72663 10.4 6.70672C10.2211 6.68568 9.96696 6.6303 9.74764 6.43167C9.64448 6.33817 9.5595 6.22616 9.49683 6.10183C9.36384 5.8379 9.37793 5.57905 9.40515 5.40104C9.43094 5.23267 9.48666 5.03623 9.53688 4.8541L10.0079 3.14585L10.0174 3.11108C10.1488 2.61344 10.0077 2.08344 9.64648 1.71687L9.60854 1.67893L9.55058 1.6431C9.48789 1.62049 9.41419 1.6382 9.36932 1.69368L9.35773 1.70633L9.35878 1.70738L5.61666 6.46224C5.51816 6.58741 5.42231 6.71336 5.30683 6.81948C5.05069 7.05477 4.73119 7.20945 4.3879 7.26525C4.23309 7.29038 4.07507 7.28843 3.91579 7.28843C3.1535 7.28843 2.9191 7.29576 2.74604 7.34534C2.26358 7.48385 1.88558 7.86087 1.74702 8.34331C1.69732 8.51642 1.69116 8.75116 1.69116 9.51411V11.1834Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.72451 15.1086C7.18929 15.7706 6.22975 15.8695 5.57357 15.3598L5.44643 15.2493L5.42247 15.2253L5.41934 15.2233L5.39016 15.1941C4.68239 14.4805 4.40679 13.4442 4.66589 12.4731L4.66693 12.4689L4.67631 12.4335L4.67735 12.4314L5.14318 10.7432C5.15243 10.7096 5.1613 10.6784 5.16923 10.6494C5.13878 10.6493 5.10558 10.6484 5.07023 10.6484H4.14274C3.62288 10.6484 3.27015 10.6513 2.9912 10.6035C1.25757 10.3069 0.103662 8.64709 0.42863 6.91861C0.480965 6.64044 0.606164 6.30981 0.787119 5.8223L1.73336 3.27328C1.92812 2.74859 2.08912 2.31215 2.25442 1.96542C2.42515 1.60731 2.62191 1.296 2.91304 1.03584C3.08408 0.883016 3.273 0.751185 3.47579 0.644009C3.82102 0.461569 4.18214 0.385575 4.57731 0.350131C4.95993 0.315849 5.42553 0.316783 5.98521 0.316783H11.0916C11.876 0.316783 12.52 0.316134 13.0362 0.372015C13.5655 0.429358 14.0423 0.552599 14.4608 0.856601C14.7007 1.03091 14.9117 1.24199 15.086 1.48187C15.3901 1.90033 15.5143 2.37716 15.5717 2.90645C15.6276 3.42275 15.6269 4.06727 15.6269 4.85209V6.5028C15.6269 7.16167 15.633 7.63697 15.5164 8.04306C15.2475 8.97969 14.5158 9.71248 13.5791 9.9814C13.173 10.098 12.6977 10.0908 12.0389 10.0908C11.8372 10.0908 11.8118 10.0933 11.795 10.096C11.723 10.1077 11.6549 10.1394 11.6012 10.1888C11.5887 10.2003 11.5724 10.2191 11.447 10.3784L7.74639 15.0815L7.74535 15.0826L7.72451 15.1086ZM14.2388 4.85209C14.2388 4.03635 14.2379 3.47971 14.1919 3.05547C14.1473 2.64449 14.0672 2.44037 13.9637 2.29785C13.8749 2.17569 13.768 2.06776 13.6458 1.97896C13.5033 1.87539 13.2984 1.7953 12.8872 1.75074C12.4907 1.70779 11.979 1.70518 11.2479 1.70489C11.6511 2.25924 11.8918 2.93974 11.8919 3.67762V7.41257H10.5038V3.67762C10.5036 2.58751 9.62023 1.70384 8.53007 1.70384H5.98521C5.40065 1.70384 5.00679 1.70449 4.70028 1.73198C4.40651 1.75836 4.24662 1.80577 4.12399 1.87058C4.02069 1.92518 3.92452 1.99283 3.8374 2.07067C3.73401 2.16312 3.634 2.29627 3.50705 2.56255C3.37462 2.84034 3.23734 3.2088 3.03393 3.75682L2.08768 6.30584C1.88395 6.85474 1.81646 7.04347 1.79172 7.17497C1.61005 8.14152 2.25533 9.06908 3.22464 9.23524C3.35654 9.25781 3.55717 9.26129 4.14274 9.26129H5.07023C5.25717 9.26129 5.4593 9.25932 5.62672 9.27901C5.80364 9.29982 6.05492 9.35458 6.27179 9.551C6.37381 9.64347 6.45784 9.75424 6.51982 9.87719C6.65133 10.1382 6.6374 10.3942 6.61048 10.5702C6.58498 10.7367 6.52988 10.931 6.48022 11.1111L6.01439 12.8003L6.00501 12.8347C5.87513 13.3268 6.01464 13.8509 6.37184 14.2134L6.40935 14.251L6.46667 14.2864C6.52866 14.3088 6.60155 14.2912 6.64591 14.2364L6.65738 14.2239L6.65633 14.2228L10.3569 9.52078C10.4543 9.397 10.5491 9.27245 10.6633 9.1675C10.9166 8.93483 11.2325 8.78186 11.572 8.72669C11.7251 8.70184 11.8814 8.70376 12.0389 8.70376C12.7927 8.70376 13.0245 8.69651 13.1956 8.64748C13.6727 8.51051 14.0465 8.13768 14.1836 7.6606C14.2327 7.48941 14.2388 7.25727 14.2388 6.5028V4.85209Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.7484 11.1004C15.6274 11.8866 15.5288 12.5365 15.3882 13.0496C15.243 13.579 15.0339 14.0407 14.6455 14.4162C14.5638 14.4952 14.4775 14.5699 14.387 14.6387C13.9568 14.9656 13.4683 15.1012 12.923 15.1642C12.3944 15.2252 11.7374 15.2245 10.9419 15.2245H5.05809C4.2626 15.2245 3.6056 15.2252 3.07703 15.1642C2.53171 15.1012 2.04317 14.9656 1.61296 14.6387C1.52248 14.5699 1.43618 14.4952 1.35447 14.4162C0.966081 14.0407 0.756961 13.579 0.611839 13.0496C0.471162 12.5365 0.372616 11.8866 0.251648 11.1004L1.6458 10.8864C1.77181 11.7054 1.85791 12.2602 1.97209 12.6767C2.08174 13.0767 2.1976 13.2701 2.3344 13.4024C2.37603 13.4426 2.42074 13.4807 2.46683 13.5158C2.6184 13.6308 2.8272 13.7161 3.23912 13.7636C3.66812 13.8131 4.22949 13.8145 5.05809 13.8145H10.9419C11.7705 13.8145 12.3319 13.8131 12.7609 13.7636C13.1728 13.7161 13.3816 13.6308 13.5332 13.5158C13.5793 13.4807 13.624 13.4426 13.6656 13.4024C13.8024 13.2701 13.9183 13.0767 14.0279 12.6767C14.1421 12.2602 14.2282 11.7054 14.3542 10.8864L15.7484 11.1004ZM7.71503 0.558394C7.90371 0.52798 8.09629 0.52798 8.28498 0.558394C8.63706 0.615181 8.91293 0.790123 9.14944 0.985327C9.37579 1.17216 9.62518 1.42894 9.90478 1.7163L13.387 5.29491L12.8817 5.78753L12.3763 6.27908L8.89412 2.70047C8.82608 2.63054 8.76286 2.56716 8.70555 2.50873V10.5336H7.29445V2.50873C7.23714 2.56716 7.17392 2.63054 7.10588 2.70047L3.62368 6.27908L3.11835 5.78753L2.61302 5.29491L6.09522 1.7163C6.37482 1.42894 6.62422 1.17216 6.85057 0.985327C7.08707 0.790123 7.36294 0.615181 7.71503 0.558394Z" fill="currentColor"></path></svg></div></div></div><div style="flex: 1 1 0%;"></div></div></div><div class="_9663006" style="box-sizing: border-box; flex-direction: column; align-items: flex-end; margin-bottom: 16px; display: flex; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="d29f3d7d ds-message _63c77b1" style="flex-direction: column; align-items: flex-end; width: 752.017px; display: flex; --panel-width: 0px;"><div class="fbb737a4" style="color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(237, 243, 254); box-sizing: border-box; white-space: pre-wrap; word-break: break-word; border-radius: 22px; max-width: calc(100% - 88px); padding: 10px 16px; font-size: 16px; line-height: 24px; position: relative;">how to change an image to 32 bit</div></div><div class="_11d6b3a" style="flex-direction: column; align-items: flex-end; margin-top: 6px; display: flex;"><div class="_425ea0b" style="align-items: center; height: 28px; display: flex;"><div class="ds-flex _78e0558" style="display: flex; opacity: 0; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: flex-end; gap: 0px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b d4910adc" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px; margin-left: 10px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.94073 1.34948C10.7047 0.902375 11.6503 0.90248 12.4143 1.34948C12.706 1.52022 12.9687 1.79124 13.3104 2.1329C13.652 2.47454 13.9231 2.73727 14.0938 3.029C14.5408 3.79301 14.5409 4.73862 14.0938 5.50257C13.9231 5.79422 13.652 6.0571 13.3104 6.39867L6.65929 13.0498C6.28065 13.4284 6.00692 13.7108 5.6654 13.9097C5.32388 14.1085 4.94312 14.2074 4.42702 14.3498L3.24391 14.6762C2.77524 14.8054 2.34535 14.9263 2.00128 14.9685C1.65193 15.0112 1.17961 15.0014 0.810733 14.6326C0.44189 14.2637 0.432076 13.7914 0.474829 13.442C0.517004 13.098 0.63787 12.668 0.767151 12.1994L1.09349 11.0163C1.23585 10.5002 1.33478 10.1194 1.53356 9.77791C1.73246 9.43639 2.01487 9.16266 2.39352 8.78402L9.04463 2.1329C9.38622 1.79132 9.64908 1.52023 9.94073 1.34948ZM15.5427 14.8399H7.5522L8.96704 13.425H15.5427V14.8399ZM3.39379 9.78429C2.96497 10.2131 2.84241 10.3437 2.75706 10.4901C2.6718 10.6366 2.61858 10.8079 2.4573 11.3926L2.13096 12.5757C2.0018 13.0439 1.92191 13.3419 1.8886 13.5536C2.10038 13.5204 2.39869 13.4417 2.86761 13.3123L4.05072 12.986C4.63541 12.8247 4.80666 12.7715 4.9532 12.6862C5.09965 12.6009 5.23019 12.4783 5.65902 12.0495L10.721 6.9865L8.45574 4.72128L3.39379 9.78429ZM11.7 2.57085C11.3774 2.38205 10.9777 2.38205 10.6551 2.57085C10.5602 2.62653 10.4487 2.72937 10.0449 3.13317L9.45601 3.72101L11.7212 5.98623L12.3101 5.3984C12.7139 4.99464 12.8168 4.88314 12.8725 4.78825C13.0612 4.46567 13.0612 4.06592 12.8725 3.74333C12.8168 3.64834 12.7145 3.53758 12.3101 3.13317C11.9057 2.72869 11.795 2.62647 11.7 2.57085Z" fill="currentColor"></path></svg></div></div></div></div></div></div><div class="_4f9bf79 _43c05b5" style="box-sizing: border-box; padding: 0px; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --assistant-last-margin-bottom: 32px;"><div class="ds-message _63c77b1" style="--panel-width: 0px;"><div class="ds-markdown" style="--ds-md-zoom: 1.143; font: 400 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; color: rgb(15, 17, 21);"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 16px; margin-left: 0px;"><span>Of course! Converting an image to 32-bit is a common prerequisite for efficient image processing. In C#, this typically means converting to<span> </span></span><strong style="font-weight: 600;"><span>32bppArgb</span></strong><span><span> </span>format, which uses 8 bits each for the Blue, Green, Red, and Alpha channels.</span></p><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>Here are several ways to do it, from the simplest to the most efficient.</span></p><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Method 1: The Simple Way (using<span> </span></span><code style="box-sizing: border-box; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: inherit;">Bitmap</code><span><span> </span>Constructor)</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>This is the easiest method and works well for most cases:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Imaging</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

<span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ConvertTo32bpp</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Image</span> originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create a new bitmap with 32bpp format, same dimensions as original</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> convertedBitmap <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                                      PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Draw the original image onto the new bitmap</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>convertedBitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> convertedBitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>

<span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Usage</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Image</span> original <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromFile</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"input.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> thirtyTwoBitImage <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">ConvertTo32bpp</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        thirtyTwoBitImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"output_32bit.png"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ImageFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Png<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Now you can use this with the gamma correction code</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Method 2: Efficient Pixel-by-Pixel Conversion</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>For more control or when working with indexed formats, you might need this approach:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Imaging</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

<span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ConvertTo32bppEfficient</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// If it's already 32bpp, return a copy</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat <span class="token operator" style="color: rgb(64, 120, 242);">==</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> converted <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                                PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Lock bits for both images for fast access</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">BitmapData</span> originalData <span class="token operator" style="color: rgb(64, 120, 242);">=</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">LockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
        ImageLockMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>ReadOnly<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
        original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token class-name" style="color: rgb(183, 107, 1);">BitmapData</span> convertedData <span class="token operator" style="color: rgb(64, 120, 242);">=</span> converted<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">LockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> converted<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> converted<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
        ImageLockMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>WriteOnly<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
        PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">unsafe</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span> srcPtr <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>originalData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Scan0<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span> destPtr <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span><span class="token operator" style="color: rgb(64, 120, 242);">*</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>convertedData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Scan0<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> srcBytesPerPixel <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">GetPixelFormatSize</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">/</span> <span class="token number" style="color: rgb(183, 107, 1);">8</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>srcBytesPerPixel <span class="token operator" style="color: rgb(64, 120, 242);">==</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> srcBytesPerPixel <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// For indexed formats</span>
        
        <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> y <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> y <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> y<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> x <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> x <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> x<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> srcPos <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>y <span class="token operator" style="color: rgb(64, 120, 242);">*</span> originalData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Stride<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>x <span class="token operator" style="color: rgb(64, 120, 242);">*</span> srcBytesPerPixel<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> destPos <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>y <span class="token operator" style="color: rgb(64, 120, 242);">*</span> convertedData<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Stride<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>x <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token number" style="color: rgb(183, 107, 1);">4</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 4 bytes for 32bpp</span>
                
                <span class="token class-name" style="color: rgb(183, 107, 1);">Color</span> pixelColor<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                
                <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Handle different source formats</span>
                <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat <span class="token operator" style="color: rgb(64, 120, 242);">==</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format24bppRgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// 24bpp RGB: BGR order</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green  </span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">3</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">255</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha (fully opaque)</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
                <span class="token keyword" style="color: rgb(166, 38, 164);">else</span> <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat <span class="token operator" style="color: rgb(64, 120, 242);">==</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format8bppIndexed<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// For 8bpp indexed, you'd need to look up the color in the palette</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// This is a simplified version - you'd need the actual palette</span>
                    <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">byte</span></span> index <span class="token operator" style="color: rgb(64, 120, 242);">=</span> srcPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>srcPos<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// You would need to access original.Palette here</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// For now, we'll just make it grayscale</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> index<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> index<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> index<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">3</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">255</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>   <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
                <span class="token keyword" style="color: rgb(166, 38, 164);">else</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Fallback: use GetPixel (slower but reliable)</span>
                    pixelColor <span class="token operator" style="color: rgb(64, 120, 242);">=</span> original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">GetPixel</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>x<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> y<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> pixelColor<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>B<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> pixelColor<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>G<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> pixelColor<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>R<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                    destPtr<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>destPos <span class="token operator" style="color: rgb(64, 120, 242);">+</span> <span class="token number" style="color: rgb(183, 107, 1);">3</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> pixelColor<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>A<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    original<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">UnlockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>originalData<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    converted<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">UnlockBits</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>convertedData<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> converted<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Method 3: Complete Solution with Error Handling</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>Here's a robust method that handles various scenarios:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Imaging</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

<span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token keyword" style="color: rgb(166, 38, 164);">class</span> <span class="token class-name" style="color: rgb(183, 107, 1);">ImageFormatConverter</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ConvertTo32bppArgb</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Image</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image <span class="token operator" style="color: rgb(64, 120, 242);">==</span> <span class="token keyword" style="color: rgb(166, 38, 164);">null</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">throw</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ArgumentNullException</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">nameof</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Check if already in desired format</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">if</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image <span class="token keyword" style="color: rgb(166, 38, 164);">is</span> <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> bmp <span class="token operator" style="color: rgb(64, 120, 242);">&amp;&amp;</span> bmp<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat <span class="token operator" style="color: rgb(64, 120, 242);">==</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>bmp<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Return a copy</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create new 32bpp bitmap</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Set resolution to match original</span>
        result<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetResolution</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HorizontalResolution<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>VerticalResolution<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token keyword" style="color: rgb(166, 38, 164);">try</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>SourceCopy<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality <span class="token operator" style="color: rgb(64, 120, 242);">=</span> System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQualityBicubic<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>SmoothingMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>SmoothingMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelOffsetMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelOffsetMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                
                <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Draw the image</span>
                g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>image<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
            
            <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">catch</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            result<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Dispose</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">throw</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">bool</span></span> <span class="token function" style="color: rgb(64, 120, 242);">Is32bppArgb</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Image</span> image<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> image <span class="token keyword" style="color: rgb(166, 38, 164);">is</span> <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> bmp <span class="token operator" style="color: rgb(64, 120, 242);">&amp;&amp;</span> bmp<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat <span class="token operator" style="color: rgb(64, 120, 242);">==</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Complete Example with Gamma Correction</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>Here's how you'd use this with the gamma correction code from before:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">class</span> <span class="token class-name" style="color: rgb(183, 107, 1);">Program</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">void</span></span> <span class="token function" style="color: rgb(64, 120, 242);">Main</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Load an image (might be 24bpp JPEG, 8bpp PNG, etc.)</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Image</span> originalImage <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Image<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromFile</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"input.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            Console<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">WriteLine</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token interpolation-string"><span class="token string" style="color: rgb(80, 161, 79);">$"Original format: </span><span class="token interpolation"><span class="token punctuation" style="color: rgb(56, 58, 66);">{</span><span class="token expression language-csharp">originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></span><span class="token string" style="color: rgb(80, 161, 79);">"</span></span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            
            <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Convert to 32bpp first</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> thirtyTwoBitImage <span class="token operator" style="color: rgb(64, 120, 242);">=</span> ImageFormatConverter<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">ConvertTo32bppArgb</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>originalImage<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                Console<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">WriteLine</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token interpolation-string"><span class="token string" style="color: rgb(80, 161, 79);">$"Converted format: </span><span class="token interpolation"><span class="token punctuation" style="color: rgb(56, 58, 66);">{</span><span class="token expression language-csharp">thirtyTwoBitImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelFormat</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></span><span class="token string" style="color: rgb(80, 161, 79);">"</span></span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                
                <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Now apply gamma correction safely</span>
                <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> gammaCorrected <span class="token operator" style="color: rgb(64, 120, 242);">=</span> GammaCorrector<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">ApplyGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>thirtyTwoBitImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">2.2</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                
                <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Save the result (use PNG to preserve quality and alpha channel)</span>
                gammaCorrected<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"final_output.png"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ImageFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Png<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
                
                gammaCorrected<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Dispose</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Key Points:</span></h2><ol start="1" style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Why Convert to 32-bit?</span></strong></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>Consistent pixel format for processing</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>Supports alpha transparency</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>8 bits per channel allows precise adjustments</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>Required for efficient memory access with<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">LockBits</code></p></li></ul></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Common 32-bit Formats:</span></strong></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">Format32bppArgb</code><span><span> </span>- Most common (Alpha, Red, Green, Blue)</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">Format32bppRgb</code><span><span> </span>- No alpha channel (often filled with 0xFF)</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">Format32bppPArgb</code><span><span> </span>- Premultiplied alpha (better performance for composition)</span></p></li></ul></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 8px; margin-left: 0px;"><strong style="font-weight: 600;"><span>File Format Notes:</span></strong></p><ul style="margin: 4px 0px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>JPEG</span></strong><span><span> </span>doesn't support 32bpp with alpha - use PNG, TIFF, or BMP</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>When saving, choose appropriate format based on your needs</span></p></li></ul></li></ol><p class="ds-markdown-paragraph" style="margin-top: 16px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px;"><span>The first method (using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">Graphics.DrawImage</code><span>) is recommended for most scenarios as it's simple, reliable, and handles format conversions automatically.</span></p></div></div><div class="ds-theme" style="--ds-input-height-l: 44px; --ds-input-height-m: 34px; --ds-input-height-s: 30px; --ds-input-height-xs: 26px; --ds-font-weight-strong: 500; --ds-font-size-l: 16px; --ds-line-height-l: 28px; --ds-font-size-m: 14px; --ds-line-height-m: 25px; --ds-font-size-sp: 13px; --ds-line-height-sp: 23px; --ds-font-size-s: 12px; --ds-line-height-s: 21px; --ds-font-size-xsp: 11px; --ds-line-height-xsp: 19.5px; --ds-font-size-xs: 10px; --ds-line-height-xs: 18px; --ds-ease-in-out: cubic-bezier(.4,0,.2,1); --ds-ease-in: cubic-bezier(.4,0,1,1); --ds-ease-out: cubic-bezier(0,0,.2,1); --ds-font-family-code: Menlo,Monaco,&quot;Cascadia Mono&quot;,Consolas,&quot;Ubuntu Mono&quot;,&quot;DejaVu Sans Mono&quot;,&quot;Liberation Mono&quot;,&quot;JetBrains Mono&quot;,&quot;Fira Code&quot;,Cousine,&quot;Roboto Mono&quot;,&quot;Courier New&quot;,Courier,sans-serif,system-ui; --ds-transition-duration: .2s; --ds-transition-duration-fast: .1s; --ds-transition-duration-slow: .3s; --wip-ds-font-size-2xs: 12px; --wip-ds-line-height-2xs-compact: 1.5; --wip-ds-color-bg-tooltip: #2c2c2e; --ds-rgb-hover: 245 245 245; --ds-rgb-primary: 77 107 254; --ds-button-hover-color: #2563EB; --ds-bordered-secondary-button-color: rgb(38 38 38); --ds-input-prefix-color: rgb(38 38 38);"></div><div class="ds-flex _0a3d93b" style="display: flex; flex-wrap: wrap; align-items: center; width: calc(100% + 6px); margin-top: 12px; margin-bottom: 10px; position: relative; left: -6px; gap: 10px;"><div class="ds-flex _965abe9" style="display: flex; opacity: 0; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: center; gap: 10px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.92142 0.349213C10.3745 0.349295 12.5564 1.50526 13.9558 3.299L15.1282 2.12765C15.3304 1.92552 15.6768 2.06949 15.6768 2.35544V5.53929C15.6766 5.71632 15.533 5.85982 15.356 5.86008H12.1711C11.8855 5.85976 11.7427 5.51471 11.9443 5.31255L12.9642 4.29062C11.8238 2.74311 9.98914 1.74112 7.92142 1.74104C4.46442 1.74104 1.66239 4.54307 1.66239 8.00006C1.66239 11.4571 4.46442 14.2591 7.92142 14.2591C11.3783 14.2589 14.1804 11.457 14.1804 8.00006H15.5723C15.5723 12.2252 12.1465 15.6508 7.92142 15.6509C3.6962 15.6509 0.270569 12.2253 0.270569 8.00006C0.270569 3.77485 3.6962 0.349213 7.92142 0.349213Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.27861 0.811633C8.81985 0.142255 9.79016 0.0422445 10.4537 0.557662L10.5823 0.669367L10.6065 0.693605L10.6097 0.695713L10.6392 0.72522C11.3549 1.44685 11.6336 2.49474 11.3716 3.47675L11.3705 3.48097L11.361 3.5168L11.36 3.51891L10.8889 5.2261C10.8796 5.26003 10.8706 5.29164 10.8626 5.32094C10.8934 5.32101 10.927 5.322 10.9627 5.322H11.9006C12.4263 5.322 12.783 5.31906 13.0651 5.36731C14.8182 5.66725 15.9851 7.34574 15.6564 9.09363C15.6035 9.37493 15.4769 9.70926 15.2939 10.2023L14.337 12.7799C14.1401 13.3105 13.9773 13.7518 13.8101 14.1025C13.6375 14.4646 13.4385 14.7794 13.1441 15.0425C12.9712 15.197 12.7801 15.3303 12.5751 15.4387C12.2259 15.6232 11.8608 15.7 11.4612 15.7359C11.0742 15.7705 10.6034 15.7696 10.0374 15.7696H4.87371C4.08047 15.7696 3.42922 15.7703 2.90728 15.7138C2.37206 15.6558 1.88985 15.5311 1.4667 15.2237C1.22409 15.0475 1.01072 14.834 0.834405 14.5914C0.52696 14.1683 0.401312 13.6861 0.343323 13.1509C0.286761 12.6288 0.28747 11.977 0.28747 11.1834V9.51411C0.28747 8.84785 0.281286 8.36721 0.399176 7.95656C0.671091 7.00941 1.41109 6.26838 2.35823 5.99645C2.76888 5.87855 3.24952 5.88579 3.91579 5.88579C4.11977 5.88579 4.14542 5.88325 4.16238 5.88053C4.23526 5.8687 4.30403 5.83669 4.35839 5.78674C4.37104 5.77511 4.38755 5.7561 4.51436 5.59494L8.25648 0.839033L8.25754 0.837979L8.27861 0.811633ZM1.69116 11.1834C1.69116 12.0083 1.69211 12.5712 1.73859 13.0002C1.78365 13.4158 1.86467 13.6222 1.96937 13.7663C2.05914 13.8898 2.16727 13.999 2.29079 14.0888C2.43495 14.1935 2.6421 14.2745 3.05797 14.3195C3.45891 14.363 3.97631 14.3656 4.71564 14.3659C4.30795 13.8053 4.06447 13.1172 4.06437 12.371V8.59412H5.46807V12.371C5.46832 13.4734 6.3616 14.367 7.46401 14.367H10.0374C10.6286 14.367 11.0269 14.3663 11.3368 14.3385C11.6339 14.3118 11.7956 14.2639 11.9196 14.1984C12.024 14.1431 12.1213 14.0747 12.2094 13.996C12.3139 13.9025 12.4151 13.7679 12.5434 13.4986C12.6774 13.2177 12.8162 12.8451 13.0219 12.2909L13.9787 9.71328C14.1848 9.15822 14.253 8.96737 14.278 8.83439C14.4617 7.85698 13.8092 6.91901 12.829 6.75098C12.6956 6.72816 12.4928 6.72464 11.9006 6.72464H10.9627C10.7737 6.72464 10.5693 6.72663 10.4 6.70672C10.2211 6.68568 9.96696 6.6303 9.74764 6.43167C9.64448 6.33817 9.5595 6.22616 9.49683 6.10183C9.36384 5.8379 9.37793 5.57905 9.40515 5.40104C9.43094 5.23267 9.48666 5.03623 9.53688 4.8541L10.0079 3.14585L10.0174 3.11108C10.1488 2.61344 10.0077 2.08344 9.64648 1.71687L9.60854 1.67893L9.55058 1.6431C9.48789 1.62049 9.41419 1.6382 9.36932 1.69368L9.35773 1.70633L9.35878 1.70738L5.61666 6.46224C5.51816 6.58741 5.42231 6.71336 5.30683 6.81948C5.05069 7.05477 4.73119 7.20945 4.3879 7.26525C4.23309 7.29038 4.07507 7.28843 3.91579 7.28843C3.1535 7.28843 2.9191 7.29576 2.74604 7.34534C2.26358 7.48385 1.88558 7.86087 1.74702 8.34331C1.69732 8.51642 1.69116 8.75116 1.69116 9.51411V11.1834Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.72451 15.1086C7.18929 15.7706 6.22975 15.8695 5.57357 15.3598L5.44643 15.2493L5.42247 15.2253L5.41934 15.2233L5.39016 15.1941C4.68239 14.4805 4.40679 13.4442 4.66589 12.4731L4.66693 12.4689L4.67631 12.4335L4.67735 12.4314L5.14318 10.7432C5.15243 10.7096 5.1613 10.6784 5.16923 10.6494C5.13878 10.6493 5.10558 10.6484 5.07023 10.6484H4.14274C3.62288 10.6484 3.27015 10.6513 2.9912 10.6035C1.25757 10.3069 0.103662 8.64709 0.42863 6.91861C0.480965 6.64044 0.606164 6.30981 0.787119 5.8223L1.73336 3.27328C1.92812 2.74859 2.08912 2.31215 2.25442 1.96542C2.42515 1.60731 2.62191 1.296 2.91304 1.03584C3.08408 0.883016 3.273 0.751185 3.47579 0.644009C3.82102 0.461569 4.18214 0.385575 4.57731 0.350131C4.95993 0.315849 5.42553 0.316783 5.98521 0.316783H11.0916C11.876 0.316783 12.52 0.316134 13.0362 0.372015C13.5655 0.429358 14.0423 0.552599 14.4608 0.856601C14.7007 1.03091 14.9117 1.24199 15.086 1.48187C15.3901 1.90033 15.5143 2.37716 15.5717 2.90645C15.6276 3.42275 15.6269 4.06727 15.6269 4.85209V6.5028C15.6269 7.16167 15.633 7.63697 15.5164 8.04306C15.2475 8.97969 14.5158 9.71248 13.5791 9.9814C13.173 10.098 12.6977 10.0908 12.0389 10.0908C11.8372 10.0908 11.8118 10.0933 11.795 10.096C11.723 10.1077 11.6549 10.1394 11.6012 10.1888C11.5887 10.2003 11.5724 10.2191 11.447 10.3784L7.74639 15.0815L7.74535 15.0826L7.72451 15.1086ZM14.2388 4.85209C14.2388 4.03635 14.2379 3.47971 14.1919 3.05547C14.1473 2.64449 14.0672 2.44037 13.9637 2.29785C13.8749 2.17569 13.768 2.06776 13.6458 1.97896C13.5033 1.87539 13.2984 1.7953 12.8872 1.75074C12.4907 1.70779 11.979 1.70518 11.2479 1.70489C11.6511 2.25924 11.8918 2.93974 11.8919 3.67762V7.41257H10.5038V3.67762C10.5036 2.58751 9.62023 1.70384 8.53007 1.70384H5.98521C5.40065 1.70384 5.00679 1.70449 4.70028 1.73198C4.40651 1.75836 4.24662 1.80577 4.12399 1.87058C4.02069 1.92518 3.92452 1.99283 3.8374 2.07067C3.73401 2.16312 3.634 2.29627 3.50705 2.56255C3.37462 2.84034 3.23734 3.2088 3.03393 3.75682L2.08768 6.30584C1.88395 6.85474 1.81646 7.04347 1.79172 7.17497C1.61005 8.14152 2.25533 9.06908 3.22464 9.23524C3.35654 9.25781 3.55717 9.26129 4.14274 9.26129H5.07023C5.25717 9.26129 5.4593 9.25932 5.62672 9.27901C5.80364 9.29982 6.05492 9.35458 6.27179 9.551C6.37381 9.64347 6.45784 9.75424 6.51982 9.87719C6.65133 10.1382 6.6374 10.3942 6.61048 10.5702C6.58498 10.7367 6.52988 10.931 6.48022 11.1111L6.01439 12.8003L6.00501 12.8347C5.87513 13.3268 6.01464 13.8509 6.37184 14.2134L6.40935 14.251L6.46667 14.2864C6.52866 14.3088 6.60155 14.2912 6.64591 14.2364L6.65738 14.2239L6.65633 14.2228L10.3569 9.52078C10.4543 9.397 10.5491 9.27245 10.6633 9.1675C10.9166 8.93483 11.2325 8.78186 11.572 8.72669C11.7251 8.70184 11.8814 8.70376 12.0389 8.70376C12.7927 8.70376 13.0245 8.69651 13.1956 8.64748C13.6727 8.51051 14.0465 8.13768 14.1836 7.6606C14.2327 7.48941 14.2388 7.25727 14.2388 6.5028V4.85209Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.7484 11.1004C15.6274 11.8866 15.5288 12.5365 15.3882 13.0496C15.243 13.579 15.0339 14.0407 14.6455 14.4162C14.5638 14.4952 14.4775 14.5699 14.387 14.6387C13.9568 14.9656 13.4683 15.1012 12.923 15.1642C12.3944 15.2252 11.7374 15.2245 10.9419 15.2245H5.05809C4.2626 15.2245 3.6056 15.2252 3.07703 15.1642C2.53171 15.1012 2.04317 14.9656 1.61296 14.6387C1.52248 14.5699 1.43618 14.4952 1.35447 14.4162C0.966081 14.0407 0.756961 13.579 0.611839 13.0496C0.471162 12.5365 0.372616 11.8866 0.251648 11.1004L1.6458 10.8864C1.77181 11.7054 1.85791 12.2602 1.97209 12.6767C2.08174 13.0767 2.1976 13.2701 2.3344 13.4024C2.37603 13.4426 2.42074 13.4807 2.46683 13.5158C2.6184 13.6308 2.8272 13.7161 3.23912 13.7636C3.66812 13.8131 4.22949 13.8145 5.05809 13.8145H10.9419C11.7705 13.8145 12.3319 13.8131 12.7609 13.7636C13.1728 13.7161 13.3816 13.6308 13.5332 13.5158C13.5793 13.4807 13.624 13.4426 13.6656 13.4024C13.8024 13.2701 13.9183 13.0767 14.0279 12.6767C14.1421 12.2602 14.2282 11.7054 14.3542 10.8864L15.7484 11.1004ZM7.71503 0.558394C7.90371 0.52798 8.09629 0.52798 8.28498 0.558394C8.63706 0.615181 8.91293 0.790123 9.14944 0.985327C9.37579 1.17216 9.62518 1.42894 9.90478 1.7163L13.387 5.29491L12.8817 5.78753L12.3763 6.27908L8.89412 2.70047C8.82608 2.63054 8.76286 2.56716 8.70555 2.50873V10.5336H7.29445V2.50873C7.23714 2.56716 7.17392 2.63054 7.10588 2.70047L3.62368 6.27908L3.11835 5.78753L2.61302 5.29491L6.09522 1.7163C6.37482 1.42894 6.62422 1.17216 6.85057 0.985327C7.08707 0.790123 7.36294 0.615181 7.71503 0.558394Z" fill="currentColor"></path></svg></div></div></div><div style="flex: 1 1 0%;"></div></div></div><div class="_9663006" style="box-sizing: border-box; flex-direction: column; align-items: flex-end; margin-bottom: 16px; display: flex; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="d29f3d7d ds-message _63c77b1" style="flex-direction: column; align-items: flex-end; width: 752.017px; display: flex; --panel-width: 0px;"><div class="fbb737a4" style="color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(237, 243, 254); box-sizing: border-box; white-space: pre-wrap; word-break: break-word; border-radius: 22px; max-width: calc(100% - 88px); padding: 10px 16px; font-size: 16px; line-height: 24px; position: relative;">Why not use ImageAttributes ?</div></div><div class="_11d6b3a" style="flex-direction: column; align-items: flex-end; margin-top: 6px; display: flex;"><div class="_425ea0b" style="align-items: center; height: 28px; display: flex;"><div class="ds-flex _78e0558" style="display: flex; opacity: 0; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: flex-end; gap: 0px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b d4910adc" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px; margin-left: 10px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.94073 1.34948C10.7047 0.902375 11.6503 0.90248 12.4143 1.34948C12.706 1.52022 12.9687 1.79124 13.3104 2.1329C13.652 2.47454 13.9231 2.73727 14.0938 3.029C14.5408 3.79301 14.5409 4.73862 14.0938 5.50257C13.9231 5.79422 13.652 6.0571 13.3104 6.39867L6.65929 13.0498C6.28065 13.4284 6.00692 13.7108 5.6654 13.9097C5.32388 14.1085 4.94312 14.2074 4.42702 14.3498L3.24391 14.6762C2.77524 14.8054 2.34535 14.9263 2.00128 14.9685C1.65193 15.0112 1.17961 15.0014 0.810733 14.6326C0.44189 14.2637 0.432076 13.7914 0.474829 13.442C0.517004 13.098 0.63787 12.668 0.767151 12.1994L1.09349 11.0163C1.23585 10.5002 1.33478 10.1194 1.53356 9.77791C1.73246 9.43639 2.01487 9.16266 2.39352 8.78402L9.04463 2.1329C9.38622 1.79132 9.64908 1.52023 9.94073 1.34948ZM15.5427 14.8399H7.5522L8.96704 13.425H15.5427V14.8399ZM3.39379 9.78429C2.96497 10.2131 2.84241 10.3437 2.75706 10.4901C2.6718 10.6366 2.61858 10.8079 2.4573 11.3926L2.13096 12.5757C2.0018 13.0439 1.92191 13.3419 1.8886 13.5536C2.10038 13.5204 2.39869 13.4417 2.86761 13.3123L4.05072 12.986C4.63541 12.8247 4.80666 12.7715 4.9532 12.6862C5.09965 12.6009 5.23019 12.4783 5.65902 12.0495L10.721 6.9865L8.45574 4.72128L3.39379 9.78429ZM11.7 2.57085C11.3774 2.38205 10.9777 2.38205 10.6551 2.57085C10.5602 2.62653 10.4487 2.72937 10.0449 3.13317L9.45601 3.72101L11.7212 5.98623L12.3101 5.3984C12.7139 4.99464 12.8168 4.88314 12.8725 4.78825C13.0612 4.46567 13.0612 4.06592 12.8725 3.74333C12.8168 3.64834 12.7145 3.53758 12.3101 3.13317C11.9057 2.72869 11.795 2.62647 11.7 2.57085Z" fill="currentColor"></path></svg></div></div></div></div></div></div><div class="_4f9bf79 _43c05b5" style="box-sizing: border-box; padding: 0px; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --assistant-last-margin-bottom: 32px;"><div class="ds-message _63c77b1" style="--panel-width: 0px;"><div class="ds-markdown" style="--ds-md-zoom: 1.143; font: 400 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; color: rgb(15, 17, 21);"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 16px; margin-left: 0px;"><span>You're absolutely right to ask this!<span> </span></span><strong style="font-weight: 600;"><span>Using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ImageAttributes</code><span><span> </span>is actually a much better and simpler approach</span></strong><span><span> </span>for applying gamma correction (and many other color adjustments) than manually processing pixels with a LUT. I should have led with this method.</span></p><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Why<span> </span></span><code style="box-sizing: border-box; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: inherit;">ImageAttributes</code><span><span> </span>is Superior for Gamma Correction</span></h2><h3 style="font: 700 20px / 30px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>The Better Approach: Using<span> </span></span><code style="box-sizing: border-box; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: inherit;">ImageAttributes</code></h3><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Imaging</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token namespace" style="opacity: 0.8;">System<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Drawing2D</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>

<span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyGammaWithImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create a new 32bpp bitmap to draw onto (preserves format)</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create ImageAttributes for color adjustment</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span> imageAttributes <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Configure high-quality rendering</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> CompositingMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>SourceCopy<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality <span class="token operator" style="color: rgb(64, 120, 242);">=</span> CompositingQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> InterpolationMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQualityBicubic<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>SmoothingMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> SmoothingMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>PixelOffsetMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> PixelOffsetMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create a color matrix for gamma adjustment</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Gamma is applied using a simple power function in the color matrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> adjustedGamma <span class="token operator" style="color: rgb(64, 120, 242);">=</span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply gamma to all color channels (R, G, B) but not alpha</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span> colorMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            Matrix00 <span class="token operator" style="color: rgb(64, 120, 242);">=</span> adjustedGamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
            Matrix11 <span class="token operator" style="color: rgb(64, 120, 242);">=</span> adjustedGamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green  </span>
            Matrix22 <span class="token operator" style="color: rgb(64, 120, 242);">=</span> adjustedGamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
            Matrix33 <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>         <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha (unchanged)</span>
            Matrix44 <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span>          <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Overall scaling (unchanged)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Set the gamma adjustment</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>colorMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorMatrixFlag<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Default<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Draw the image with gamma correction applied</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);">Rectangle</span> destRect <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> destRect<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                   GraphicsUnit<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Pixel<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Even Simpler: Using<span> </span></span><code style="box-sizing: border-box; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: inherit;">ColorMatrix</code><span><span> </span>for Proper Gamma Correction</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>The above approach has an issue - the<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ColorMatrix</code><span><span> </span>applies a linear scaling, not a proper gamma power function. Here's the<span> </span></span><strong style="font-weight: 600;"><span>correct implementation</span></strong><span>:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyGammaCorrectly</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span> imageAttributes <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// For proper gamma correction, we need to use a ColorMap or different approach</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Since ColorMatrix can't do power functions directly, we use SetGamma method</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">Rectangle</span> destRect <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> destRect<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                   GraphicsUnit<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Pixel<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Complete Example with Multiple Adjustments</span></h2><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span> imageAttributes <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality <span class="token operator" style="color: rgb(64, 120, 242);">=</span> CompositingQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> InterpolationMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQualityBicubic<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply gamma correction</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply brightness and contrast using ColorMatrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> scale <span class="token operator" style="color: rgb(64, 120, 242);">=</span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// &gt;1 increase contrast, &lt;1 decrease contrast</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> translation <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">/</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Adjust for brightness</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span> brightnessContrastMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>           <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">}</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Brightness</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Combine gamma with brightness/contrast</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>brightnessContrastMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorMatrixFlag<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Default<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">Rectangle</span> destRect <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> destRect<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                   GraphicsUnit<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Pixel<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Advantages of Using<span> </span></span><code style="box-sizing: border-box; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: inherit;">ImageAttributes</code></h2><div class="ds-scroll-area _1210dd7" style="z-index: 0; position: relative; overflow-x: auto; scrollbar-width: none;"><div class="ds-scroll-area__gutters" style="pointer-events: none; z-index: 1000; display: block; opacity: 1 !important; transition: opacity 0.1s ease-out 1s; position: sticky; top: 0px; left: 0px; right: 0px; height: 0px; --container-height: 319px;"><div class="ds-scroll-area__horizontal-gutter" style="position: absolute; padding: 2px 0px; left: 0px; right: 0px; top: 307px; height: 8px;"></div><div class="ds-scroll-area__vertical-gutter" style="position: absolute; padding: 0px 2px; right: 0px; top: 8px; bottom: -311px; width: 8px;"></div></div><table style="border-collapse: collapse; width: max-content; max-width: max-content;"><thead><tr><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px 10px 0px; text-align: left;"><span>Aspect</span></th><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;"><span>Manual LUT Approach</span></th><th style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.12); font: 500 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; border-top: none; padding: 10px 16px; text-align: left;"><span>ImageAttributes Approach</span></th></tr></thead><tbody><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Code Complexity</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Complex, requires unsafe code</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Simple, managed code only</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Performance</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Very fast (after LUT creation)</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Hardware accelerated</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Maintainability</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Difficult to modify</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Easy to understand and modify</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Flexibility</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Customizable but manual</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Built-in color transformations</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Safety</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Requires unsafe context</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>Fully managed, safe</span></td></tr><tr><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px 10px 0px;"><strong style="font-weight: 600;"><span>Quality</span></strong></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 16px;"><span>Good, but manual</span></td><td style="border-bottom: 0.606061px solid rgba(0, 0, 0, 0.1); font: 400 15px / 25px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; min-width: 100px; max-width: max(30vw, 320px); padding: 10px 0px 10px 16px;"><span>High-quality GDI+ rendering</span></td></tr></tbody></table></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Why I Initially Used LUT + Manual Processing</span></h2><ol start="1" style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Educational Value</span></strong><span>: The LUT approach better illustrates what gamma correction actually does mathematically</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Precision Control</span></strong><span>: Direct pixel access gives you absolute control over the algorithm</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Special Cases</span></strong><span>: Some advanced scenarios might require custom processing that<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ImageAttributes</code><span><span> </span>doesn't support</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Dependencies</span></strong><span>: In some environments (like some .NET Core scenarios), GDI+ might not be available</span></p></li></ol><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>When to Use Each Approach</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><strong style="font-weight: 600;"><span>Use<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ImageAttributes</code><span><span> </span>when:</span></strong></p><ul style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You need simple, clean, maintainable code</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You're applying standard color adjustments</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>Performance is good but not critical</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You want to leverage hardware acceleration</span></p></li></ul><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><strong style="font-weight: 600;"><span>Use Manual LUT when:</span></strong></p><ul style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You're implementing custom, non-standard color operations</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You need maximum performance for real-time processing</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You're in an environment without GDI+</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span>You're learning how image processing works internally</span></p></li></ul><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>The Verdict</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>For<span> </span></span><strong style="font-weight: 600;"><span>most practical applications</span></strong><span>, your suggestion to use<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ImageAttributes</code><span><span> </span>is absolutely correct - it's simpler, safer, and leverages the built-in capabilities of the framework. The manual LUT approach is more of an educational exercise or for specialized scenarios.</span></p><p class="ds-markdown-paragraph" style="margin-top: 16px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px;"><span>Thank you for calling this out - it's an important correction that provides a much better solution for production code!</span></p></div></div><div class="ds-theme" style="--ds-input-height-l: 44px; --ds-input-height-m: 34px; --ds-input-height-s: 30px; --ds-input-height-xs: 26px; --ds-font-weight-strong: 500; --ds-font-size-l: 16px; --ds-line-height-l: 28px; --ds-font-size-m: 14px; --ds-line-height-m: 25px; --ds-font-size-sp: 13px; --ds-line-height-sp: 23px; --ds-font-size-s: 12px; --ds-line-height-s: 21px; --ds-font-size-xsp: 11px; --ds-line-height-xsp: 19.5px; --ds-font-size-xs: 10px; --ds-line-height-xs: 18px; --ds-ease-in-out: cubic-bezier(.4,0,.2,1); --ds-ease-in: cubic-bezier(.4,0,1,1); --ds-ease-out: cubic-bezier(0,0,.2,1); --ds-font-family-code: Menlo,Monaco,&quot;Cascadia Mono&quot;,Consolas,&quot;Ubuntu Mono&quot;,&quot;DejaVu Sans Mono&quot;,&quot;Liberation Mono&quot;,&quot;JetBrains Mono&quot;,&quot;Fira Code&quot;,Cousine,&quot;Roboto Mono&quot;,&quot;Courier New&quot;,Courier,sans-serif,system-ui; --ds-transition-duration: .2s; --ds-transition-duration-fast: .1s; --ds-transition-duration-slow: .3s; --wip-ds-font-size-2xs: 12px; --wip-ds-line-height-2xs-compact: 1.5; --wip-ds-color-bg-tooltip: #2c2c2e; --ds-rgb-hover: 245 245 245; --ds-rgb-primary: 77 107 254; --ds-button-hover-color: #2563EB; --ds-bordered-secondary-button-color: rgb(38 38 38); --ds-input-prefix-color: rgb(38 38 38);"></div><div class="ds-flex _0a3d93b" style="display: flex; flex-wrap: wrap; align-items: center; width: calc(100% + 6px); margin-top: 12px; margin-bottom: 10px; position: relative; left: -6px; gap: 10px;"><div class="ds-flex _965abe9" style="display: flex; opacity: 0; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: center; gap: 10px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.92142 0.349213C10.3745 0.349295 12.5564 1.50526 13.9558 3.299L15.1282 2.12765C15.3304 1.92552 15.6768 2.06949 15.6768 2.35544V5.53929C15.6766 5.71632 15.533 5.85982 15.356 5.86008H12.1711C11.8855 5.85976 11.7427 5.51471 11.9443 5.31255L12.9642 4.29062C11.8238 2.74311 9.98914 1.74112 7.92142 1.74104C4.46442 1.74104 1.66239 4.54307 1.66239 8.00006C1.66239 11.4571 4.46442 14.2591 7.92142 14.2591C11.3783 14.2589 14.1804 11.457 14.1804 8.00006H15.5723C15.5723 12.2252 12.1465 15.6508 7.92142 15.6509C3.6962 15.6509 0.270569 12.2253 0.270569 8.00006C0.270569 3.77485 3.6962 0.349213 7.92142 0.349213Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.27861 0.811633C8.81985 0.142255 9.79016 0.0422445 10.4537 0.557662L10.5823 0.669367L10.6065 0.693605L10.6097 0.695713L10.6392 0.72522C11.3549 1.44685 11.6336 2.49474 11.3716 3.47675L11.3705 3.48097L11.361 3.5168L11.36 3.51891L10.8889 5.2261C10.8796 5.26003 10.8706 5.29164 10.8626 5.32094C10.8934 5.32101 10.927 5.322 10.9627 5.322H11.9006C12.4263 5.322 12.783 5.31906 13.0651 5.36731C14.8182 5.66725 15.9851 7.34574 15.6564 9.09363C15.6035 9.37493 15.4769 9.70926 15.2939 10.2023L14.337 12.7799C14.1401 13.3105 13.9773 13.7518 13.8101 14.1025C13.6375 14.4646 13.4385 14.7794 13.1441 15.0425C12.9712 15.197 12.7801 15.3303 12.5751 15.4387C12.2259 15.6232 11.8608 15.7 11.4612 15.7359C11.0742 15.7705 10.6034 15.7696 10.0374 15.7696H4.87371C4.08047 15.7696 3.42922 15.7703 2.90728 15.7138C2.37206 15.6558 1.88985 15.5311 1.4667 15.2237C1.22409 15.0475 1.01072 14.834 0.834405 14.5914C0.52696 14.1683 0.401312 13.6861 0.343323 13.1509C0.286761 12.6288 0.28747 11.977 0.28747 11.1834V9.51411C0.28747 8.84785 0.281286 8.36721 0.399176 7.95656C0.671091 7.00941 1.41109 6.26838 2.35823 5.99645C2.76888 5.87855 3.24952 5.88579 3.91579 5.88579C4.11977 5.88579 4.14542 5.88325 4.16238 5.88053C4.23526 5.8687 4.30403 5.83669 4.35839 5.78674C4.37104 5.77511 4.38755 5.7561 4.51436 5.59494L8.25648 0.839033L8.25754 0.837979L8.27861 0.811633ZM1.69116 11.1834C1.69116 12.0083 1.69211 12.5712 1.73859 13.0002C1.78365 13.4158 1.86467 13.6222 1.96937 13.7663C2.05914 13.8898 2.16727 13.999 2.29079 14.0888C2.43495 14.1935 2.6421 14.2745 3.05797 14.3195C3.45891 14.363 3.97631 14.3656 4.71564 14.3659C4.30795 13.8053 4.06447 13.1172 4.06437 12.371V8.59412H5.46807V12.371C5.46832 13.4734 6.3616 14.367 7.46401 14.367H10.0374C10.6286 14.367 11.0269 14.3663 11.3368 14.3385C11.6339 14.3118 11.7956 14.2639 11.9196 14.1984C12.024 14.1431 12.1213 14.0747 12.2094 13.996C12.3139 13.9025 12.4151 13.7679 12.5434 13.4986C12.6774 13.2177 12.8162 12.8451 13.0219 12.2909L13.9787 9.71328C14.1848 9.15822 14.253 8.96737 14.278 8.83439C14.4617 7.85698 13.8092 6.91901 12.829 6.75098C12.6956 6.72816 12.4928 6.72464 11.9006 6.72464H10.9627C10.7737 6.72464 10.5693 6.72663 10.4 6.70672C10.2211 6.68568 9.96696 6.6303 9.74764 6.43167C9.64448 6.33817 9.5595 6.22616 9.49683 6.10183C9.36384 5.8379 9.37793 5.57905 9.40515 5.40104C9.43094 5.23267 9.48666 5.03623 9.53688 4.8541L10.0079 3.14585L10.0174 3.11108C10.1488 2.61344 10.0077 2.08344 9.64648 1.71687L9.60854 1.67893L9.55058 1.6431C9.48789 1.62049 9.41419 1.6382 9.36932 1.69368L9.35773 1.70633L9.35878 1.70738L5.61666 6.46224C5.51816 6.58741 5.42231 6.71336 5.30683 6.81948C5.05069 7.05477 4.73119 7.20945 4.3879 7.26525C4.23309 7.29038 4.07507 7.28843 3.91579 7.28843C3.1535 7.28843 2.9191 7.29576 2.74604 7.34534C2.26358 7.48385 1.88558 7.86087 1.74702 8.34331C1.69732 8.51642 1.69116 8.75116 1.69116 9.51411V11.1834Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.72451 15.1086C7.18929 15.7706 6.22975 15.8695 5.57357 15.3598L5.44643 15.2493L5.42247 15.2253L5.41934 15.2233L5.39016 15.1941C4.68239 14.4805 4.40679 13.4442 4.66589 12.4731L4.66693 12.4689L4.67631 12.4335L4.67735 12.4314L5.14318 10.7432C5.15243 10.7096 5.1613 10.6784 5.16923 10.6494C5.13878 10.6493 5.10558 10.6484 5.07023 10.6484H4.14274C3.62288 10.6484 3.27015 10.6513 2.9912 10.6035C1.25757 10.3069 0.103662 8.64709 0.42863 6.91861C0.480965 6.64044 0.606164 6.30981 0.787119 5.8223L1.73336 3.27328C1.92812 2.74859 2.08912 2.31215 2.25442 1.96542C2.42515 1.60731 2.62191 1.296 2.91304 1.03584C3.08408 0.883016 3.273 0.751185 3.47579 0.644009C3.82102 0.461569 4.18214 0.385575 4.57731 0.350131C4.95993 0.315849 5.42553 0.316783 5.98521 0.316783H11.0916C11.876 0.316783 12.52 0.316134 13.0362 0.372015C13.5655 0.429358 14.0423 0.552599 14.4608 0.856601C14.7007 1.03091 14.9117 1.24199 15.086 1.48187C15.3901 1.90033 15.5143 2.37716 15.5717 2.90645C15.6276 3.42275 15.6269 4.06727 15.6269 4.85209V6.5028C15.6269 7.16167 15.633 7.63697 15.5164 8.04306C15.2475 8.97969 14.5158 9.71248 13.5791 9.9814C13.173 10.098 12.6977 10.0908 12.0389 10.0908C11.8372 10.0908 11.8118 10.0933 11.795 10.096C11.723 10.1077 11.6549 10.1394 11.6012 10.1888C11.5887 10.2003 11.5724 10.2191 11.447 10.3784L7.74639 15.0815L7.74535 15.0826L7.72451 15.1086ZM14.2388 4.85209C14.2388 4.03635 14.2379 3.47971 14.1919 3.05547C14.1473 2.64449 14.0672 2.44037 13.9637 2.29785C13.8749 2.17569 13.768 2.06776 13.6458 1.97896C13.5033 1.87539 13.2984 1.7953 12.8872 1.75074C12.4907 1.70779 11.979 1.70518 11.2479 1.70489C11.6511 2.25924 11.8918 2.93974 11.8919 3.67762V7.41257H10.5038V3.67762C10.5036 2.58751 9.62023 1.70384 8.53007 1.70384H5.98521C5.40065 1.70384 5.00679 1.70449 4.70028 1.73198C4.40651 1.75836 4.24662 1.80577 4.12399 1.87058C4.02069 1.92518 3.92452 1.99283 3.8374 2.07067C3.73401 2.16312 3.634 2.29627 3.50705 2.56255C3.37462 2.84034 3.23734 3.2088 3.03393 3.75682L2.08768 6.30584C1.88395 6.85474 1.81646 7.04347 1.79172 7.17497C1.61005 8.14152 2.25533 9.06908 3.22464 9.23524C3.35654 9.25781 3.55717 9.26129 4.14274 9.26129H5.07023C5.25717 9.26129 5.4593 9.25932 5.62672 9.27901C5.80364 9.29982 6.05492 9.35458 6.27179 9.551C6.37381 9.64347 6.45784 9.75424 6.51982 9.87719C6.65133 10.1382 6.6374 10.3942 6.61048 10.5702C6.58498 10.7367 6.52988 10.931 6.48022 11.1111L6.01439 12.8003L6.00501 12.8347C5.87513 13.3268 6.01464 13.8509 6.37184 14.2134L6.40935 14.251L6.46667 14.2864C6.52866 14.3088 6.60155 14.2912 6.64591 14.2364L6.65738 14.2239L6.65633 14.2228L10.3569 9.52078C10.4543 9.397 10.5491 9.27245 10.6633 9.1675C10.9166 8.93483 11.2325 8.78186 11.572 8.72669C11.7251 8.70184 11.8814 8.70376 12.0389 8.70376C12.7927 8.70376 13.0245 8.69651 13.1956 8.64748C13.6727 8.51051 14.0465 8.13768 14.1836 7.6606C14.2327 7.48941 14.2388 7.25727 14.2388 6.5028V4.85209Z" fill="currentColor"></path></svg></div></div><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.7484 11.1004C15.6274 11.8866 15.5288 12.5365 15.3882 13.0496C15.243 13.579 15.0339 14.0407 14.6455 14.4162C14.5638 14.4952 14.4775 14.5699 14.387 14.6387C13.9568 14.9656 13.4683 15.1012 12.923 15.1642C12.3944 15.2252 11.7374 15.2245 10.9419 15.2245H5.05809C4.2626 15.2245 3.6056 15.2252 3.07703 15.1642C2.53171 15.1012 2.04317 14.9656 1.61296 14.6387C1.52248 14.5699 1.43618 14.4952 1.35447 14.4162C0.966081 14.0407 0.756961 13.579 0.611839 13.0496C0.471162 12.5365 0.372616 11.8866 0.251648 11.1004L1.6458 10.8864C1.77181 11.7054 1.85791 12.2602 1.97209 12.6767C2.08174 13.0767 2.1976 13.2701 2.3344 13.4024C2.37603 13.4426 2.42074 13.4807 2.46683 13.5158C2.6184 13.6308 2.8272 13.7161 3.23912 13.7636C3.66812 13.8131 4.22949 13.8145 5.05809 13.8145H10.9419C11.7705 13.8145 12.3319 13.8131 12.7609 13.7636C13.1728 13.7161 13.3816 13.6308 13.5332 13.5158C13.5793 13.4807 13.624 13.4426 13.6656 13.4024C13.8024 13.2701 13.9183 13.0767 14.0279 12.6767C14.1421 12.2602 14.2282 11.7054 14.3542 10.8864L15.7484 11.1004ZM7.71503 0.558394C7.90371 0.52798 8.09629 0.52798 8.28498 0.558394C8.63706 0.615181 8.91293 0.790123 9.14944 0.985327C9.37579 1.17216 9.62518 1.42894 9.90478 1.7163L13.387 5.29491L12.8817 5.78753L12.3763 6.27908L8.89412 2.70047C8.82608 2.63054 8.76286 2.56716 8.70555 2.50873V10.5336H7.29445V2.50873C7.23714 2.56716 7.17392 2.63054 7.10588 2.70047L3.62368 6.27908L3.11835 5.78753L2.61302 5.29491L6.09522 1.7163C6.37482 1.42894 6.62422 1.17216 6.85057 0.985327C7.08707 0.790123 7.36294 0.615181 7.71503 0.558394Z" fill="currentColor"></path></svg></div></div></div><div style="flex: 1 1 0%;"></div></div></div><div class="_9663006" style="box-sizing: border-box; flex-direction: column; align-items: flex-end; margin-bottom: 16px; display: flex; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><div class="d29f3d7d ds-message _63c77b1" style="flex-direction: column; align-items: flex-end; width: 752.017px; display: flex; --panel-width: 0px;"><div class="fbb737a4" style="color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(237, 243, 254); box-sizing: border-box; white-space: pre-wrap; word-break: break-word; border-radius: 22px; max-width: calc(100% - 88px); padding: 10px 16px; font-size: 16px; line-height: 24px; position: relative;">Modify the multiple adjustments method to include saturation

public static Bitmap ApplyMultipleAdjustments(Bitmap sourceImage, float gamma, float brightness, float contrast, float saturation)</div></div><div class="_11d6b3a" style="flex-direction: column; align-items: flex-end; margin-top: 6px; display: flex;"><div class="_425ea0b" style="align-items: center; height: 28px; display: flex;"><div class="ds-flex _78e0558 _0bbda35" style="display: flex; opacity: 1; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); will-change: opacity; align-items: flex-end; gap: 0px;"><div class="_17e543b db183363" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z" fill="currentColor"></path></svg></div></div><div class="_17e543b d4910adc" tabindex="-1" role="button" aria-disabled="false" style="cursor: pointer; --hover-size: 28px; border-radius: 50%; outline: none; justify-content: center; align-items: center; display: inline-flex; position: relative; overflow: visible; color: rgb(129, 133, 140); width: 28px; height: 28px; margin-left: 10px;"><div class="_001e3bb" style="content: &quot;&quot;; width: 28px; height: 28px; z-index: 0; background-color: transparent; border-radius: 50%; transition: background-color 0.2s; position: absolute; top: 13.9962px; left: 13.9962px; transform: translate(-50%, -50%);"></div><div class="ds-icon" style="line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.94073 1.34948C10.7047 0.902375 11.6503 0.90248 12.4143 1.34948C12.706 1.52022 12.9687 1.79124 13.3104 2.1329C13.652 2.47454 13.9231 2.73727 14.0938 3.029C14.5408 3.79301 14.5409 4.73862 14.0938 5.50257C13.9231 5.79422 13.652 6.0571 13.3104 6.39867L6.65929 13.0498C6.28065 13.4284 6.00692 13.7108 5.6654 13.9097C5.32388 14.1085 4.94312 14.2074 4.42702 14.3498L3.24391 14.6762C2.77524 14.8054 2.34535 14.9263 2.00128 14.9685C1.65193 15.0112 1.17961 15.0014 0.810733 14.6326C0.44189 14.2637 0.432076 13.7914 0.474829 13.442C0.517004 13.098 0.63787 12.668 0.767151 12.1994L1.09349 11.0163C1.23585 10.5002 1.33478 10.1194 1.53356 9.77791C1.73246 9.43639 2.01487 9.16266 2.39352 8.78402L9.04463 2.1329C9.38622 1.79132 9.64908 1.52023 9.94073 1.34948ZM15.5427 14.8399H7.5522L8.96704 13.425H15.5427V14.8399ZM3.39379 9.78429C2.96497 10.2131 2.84241 10.3437 2.75706 10.4901C2.6718 10.6366 2.61858 10.8079 2.4573 11.3926L2.13096 12.5757C2.0018 13.0439 1.92191 13.3419 1.8886 13.5536C2.10038 13.5204 2.39869 13.4417 2.86761 13.3123L4.05072 12.986C4.63541 12.8247 4.80666 12.7715 4.9532 12.6862C5.09965 12.6009 5.23019 12.4783 5.65902 12.0495L10.721 6.9865L8.45574 4.72128L3.39379 9.78429ZM11.7 2.57085C11.3774 2.38205 10.9777 2.38205 10.6551 2.57085C10.5602 2.62653 10.4487 2.72937 10.0449 3.13317L9.45601 3.72101L11.7212 5.98623L12.3101 5.3984C12.7139 4.99464 12.8168 4.88314 12.8725 4.78825C13.0612 4.46567 13.0612 4.06592 12.8725 3.74333C12.8168 3.64834 12.7145 3.53758 12.3101 3.13317C11.9057 2.72869 11.795 2.62647 11.7 2.57085Z" fill="currentColor"></path></svg></div></div></div></div></div></div><div class="_4f9bf79 d7dc56a8 _43c05b5" style="box-sizing: border-box; padding: 0px; position: relative; color: rgb(128, 0, 128); font-family: quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --assistant-last-margin-bottom: 32px;"><div class="ds-message _63c77b1" style="--panel-width: 0px;"><div class="ds-markdown" style="--ds-md-zoom: 1.143; font: 400 16px / 28px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; color: rgb(15, 17, 21);"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 16px; margin-left: 0px;"><span>Here's the modified method that includes saturation adjustment along with gamma, brightness, and contrast:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span> imageAttributes <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality <span class="token operator" style="color: rgb(64, 120, 242);">=</span> CompositingQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> InterpolationMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQualityBicubic<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply gamma correction</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create combined matrix for brightness, contrast, and saturation</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> scale <span class="token operator" style="color: rgb(64, 120, 242);">=</span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// &gt;1 increase contrast, &lt;1 decrease contrast</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> translation <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">/</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Adjust for brightness</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Saturation matrix components</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// When saturation = 0: grayscale (weights: R:0.299, G:0.587, B:0.114)</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// When saturation = 1: original colors</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// When saturation &gt; 1: oversaturated</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> saturationFactor <span class="token operator" style="color: rgb(64, 120, 242);">=</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> rWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.299f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.587f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> bWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.114f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> rLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> rWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> gWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> bLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> bWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> saturationMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> rLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> rLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> rLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>     <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> gLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> gLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> gLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>     <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> bLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> bLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> bLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturationFactor<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>     <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>                                                   <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>                                                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Translation</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Brightness and contrast matrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> brightnessContrastMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Red</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Green  </span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>                    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Blue</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>                        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Alpha</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span> <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Brightness</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Combine saturation with brightness/contrast</span>
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// We need to multiply the matrices: saturationMatrix × brightnessContrastMatrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> combinedMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">MultiplyColorMatrices</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>saturationMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> brightnessContrastMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span> finalColorMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>combinedMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply the combined color matrix</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>finalColorMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorMatrixFlag<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Default<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">Rectangle</span> destRect <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> destRect<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                   GraphicsUnit<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Pixel<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>

<span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Helper method to multiply two 5x5 color matrices</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">private</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token function" style="color: rgb(64, 120, 242);">MultiplyColorMatrices</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> matrix1<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> matrix2<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token number" style="color: rgb(183, 107, 1);">5</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">5</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> i <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> i <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> <span class="token number" style="color: rgb(183, 107, 1);">5</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> i<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> j <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> j <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> <span class="token number" style="color: rgb(183, 107, 1);">5</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> j<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            result<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>i<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> j<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">for</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">int</span></span> k <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> k <span class="token operator" style="color: rgb(64, 120, 242);">&lt;</span> <span class="token number" style="color: rgb(183, 107, 1);">5</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span> k<span class="token operator" style="color: rgb(64, 120, 242);">++</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
                result<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>i<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> j<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">+=</span> matrix1<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>i<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> k<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span> <span class="token operator" style="color: rgb(64, 120, 242);">*</span> matrix2<span class="token punctuation" style="color: rgb(56, 58, 66);">[</span>k<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> j<span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
            <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Alternative Simpler Approach (Separate Operations)</span></h2><p class="ds-markdown-paragraph" style="margin: 16px 0px;"><span>If you prefer a simpler approach that applies operations sequentially rather than combining matrices:</span></p><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token keyword" style="color: rgb(166, 38, 164);">public</span> <span class="token keyword" style="color: rgb(166, 38, 164);">static</span> <span class="token return-type class-name" style="color: rgb(183, 107, 1);">Bitmap</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustmentsSimple</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> result <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> PixelFormat<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Format32bppArgb<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span> imageAttributes <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ImageAttributes</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Graphics</span> g <span class="token operator" style="color: rgb(64, 120, 242);">=</span> Graphics<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">FromImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>result<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>CompositingQuality <span class="token operator" style="color: rgb(64, 120, 242);">=</span> CompositingQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQuality<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>InterpolationMode <span class="token operator" style="color: rgb(64, 120, 242);">=</span> InterpolationMode<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>HighQualityBicubic<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply gamma correction</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetGamma</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>gamma<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create saturation matrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> rWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.299f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.587f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> bWeight <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token number" style="color: rgb(183, 107, 1);">0.114f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> rLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> rWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> gLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> gWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> bLuminance <span class="token operator" style="color: rgb(64, 120, 242);">=</span> bWeight <span class="token operator" style="color: rgb(64, 120, 242);">*</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span> saturationMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> rLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> rLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> rLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> gLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> gLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> gLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> bLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> bLuminance<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> bLuminance <span class="token operator" style="color: rgb(64, 120, 242);">+</span> saturation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Create brightness/contrast matrix</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> scale <span class="token operator" style="color: rgb(64, 120, 242);">=</span> contrast<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        <span class="token class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span></span> translation <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token operator" style="color: rgb(64, 120, 242);">-</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span> <span class="token operator" style="color: rgb(64, 120, 242);">/</span> <span class="token number" style="color: rgb(183, 107, 1);">2</span> <span class="token operator" style="color: rgb(64, 120, 242);">+</span> brightness<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span> brightnessContrastMatrix <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">ColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> scale<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span>
            <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);"><span class="token keyword" style="color: rgb(166, 38, 164);">float</span><span class="token punctuation" style="color: rgb(56, 58, 66);">[</span><span class="token punctuation" style="color: rgb(56, 58, 66);">]</span></span> <span class="token punctuation" style="color: rgb(56, 58, 66);">{</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> translation<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
        <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Apply both matrices (they'll be combined automatically by GDI+)</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>saturationMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorMatrixFlag<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Default<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">SetColorMatrix</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>brightnessContrastMatrix<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorMatrixFlag<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Multiply<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> ColorAdjustType<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Bitmap<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        
        <span class="token class-name" style="color: rgb(183, 107, 1);">Rectangle</span> destRect <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Rectangle</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
        g<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">DrawImage</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> destRect<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Width<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> sourceImage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Height<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> 
                   GraphicsUnit<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span>Pixel<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> imageAttributes<span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    <span class="token punctuation" style="color: rgb(56, 58, 66);">}</span>
    
    <span class="token keyword" style="color: rgb(166, 38, 164);">return</span> result<span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Usage Examples</span></h2><div class="md-code-block md-code-block-light" style="--ds-md-code-banner-background-color: #f9fafb; --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); color: rgb(15, 17, 21); background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); border-radius: 12px; margin: 16px 0px 11.43px; position: relative;"><div class="md-code-block-banner-wrap" style="z-index: 6; background-color: rgb(255, 255, 255); position: sticky; top: 0px;"><div class="md-code-block-banner md-code-block-banner-lite" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(249, 250, 251); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;"><div class="_121d384" style="justify-content: space-between; align-items: center; width: 740.028px; padding: 6px; display: flex;"><div class="d2a24f03" style="flex-shrink: 0;"><span class="d813de27" style="color: rgb(15, 17, 21); font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin-left: 8px; font-size: 12px; line-height: 18px;">csharp</span></div></div></div></div><pre style="font: 400 13px / 22px Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; margin: 0px !important; overflow: auto; white-space: pre-wrap; word-break: break-all; padding: 16px;"><span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Example usage with different saturation values:</span>
<span class="token keyword" style="color: rgb(166, 38, 164);">using</span> <span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> original <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token keyword" style="color: rgb(166, 38, 164);">new</span> <span class="token constructor-invocation class-name" style="color: rgb(183, 107, 1);">Bitmap</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"input.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">{</span>
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Normal saturation (1.0)</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> normal <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Grayscale (saturation = 0)</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> grayscale <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Oversaturated (saturation = 2.0)</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> oversaturated <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.1f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.2f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">2.0f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    <span class="token comment" style="color: rgb(160, 161, 167); font-style: italic;">// Desaturated vintage look</span>
    <span class="token class-name" style="color: rgb(183, 107, 1);">Bitmap</span> vintage <span class="token operator" style="color: rgb(64, 120, 242);">=</span> <span class="token function" style="color: rgb(64, 120, 242);">ApplyMultipleAdjustments</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span>original<span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.2f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.1f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">1.1f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">,</span> <span class="token number" style="color: rgb(183, 107, 1);">0.5f</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    
    normal<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"normal.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    grayscale<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"grayscale.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    oversaturated<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"oversaturated.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
    vintage<span class="token punctuation" style="color: rgb(56, 58, 66);">.</span><span class="token function" style="color: rgb(64, 120, 242);">Save</span><span class="token punctuation" style="color: rgb(56, 58, 66);">(</span><span class="token string" style="color: rgb(80, 161, 79);">"vintage.jpg"</span><span class="token punctuation" style="color: rgb(56, 58, 66);">)</span><span class="token punctuation" style="color: rgb(56, 58, 66);">;</span>
<span class="token punctuation" style="color: rgb(56, 58, 66);">}</span></pre><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _33882ae"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" class="_9bc997d _28d7e84"><path d="M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z" fill="currentColor"></path></svg></div><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Saturation Parameter Guide</span></h2><ul style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>saturation = 0.0</span></strong><span>: Completely grayscale</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>saturation = 0.5</span></strong><span>: 50% desaturated</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>saturation = 1.0</span></strong><span>: Original colors (no change)</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>saturation = 1.5</span></strong><span>: 50% more saturated</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>saturation = 2.0</span></strong><span>: Highly oversaturated</span></p></li></ul><h2 style="font: 700 22px / 32px quote-cjk-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, sans-serif; margin: 32px 0px 16px;"><span>Key Points</span></h2><ol start="1" style="margin: 16px 0px; padding-left: 18px;"><li><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Saturation Matrix</span></strong><span>: Uses standard luminance weights (0.299, 0.587, 0.114) to convert to grayscale when saturation = 0</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Matrix Multiplication</span></strong><span>: The first approach properly combines the matrices mathematically</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Order of Operations</span></strong><span>: Gamma is applied separately, then the combined saturation/brightness/contrast matrix</span></p></li><li style="margin-top: 6px;"><p class="ds-markdown-paragraph" style="margin-top: 0px !important; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><strong style="font-weight: 600;"><span>Performance</span></strong><span>: Using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ImageAttributes</code><span><span> </span>with multiple matrices is still hardware-accelerated and efficient</span></p></li></ol><p class="ds-markdown-paragraph" style="margin-top: 16px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px;"><span>The second approach (using<span> </span></span><code style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: 100%; line-height: 22px; font-optical-sizing: auto; font-size-adjust: none; font-kerning: auto; font-feature-settings: normal; font-variation-settings: normal; font-family: Menlo, Monaco, &quot;Cascadia Mono&quot;, Consolas, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;JetBrains Mono&quot;, &quot;Fira Code&quot;, Cousine, &quot;Roboto Mono&quot;, &quot;Courier New&quot;, Courier, sans-serif, system-ui; background-color: rgb(235, 238, 242); border-radius: 6px; align-items: center; padding: 0px 5px; display: inline-flex; font-size: 0.875em !important;">ColorMatrixFlag.Multiply</code><span>) is simpler and often sufficient for most use cases, while the first approach gives you precise mathematical control over the order of operations.</span></p></div></div></div>
</body>
</html>